{% comment %}
SubmissionDateSelector Widget
Dropdown for navigating between different submission dates
Parameters:
- submissions: List of available submissions
- selected_submission: Currently selected submission
- patient_id: Patient ID for HTMX updates
{% endcomment %}

<div class="flex items-center space-x-2">
    <label for="submission-date" class="text-sm font-medium text-gray-700">Submission Date:</label>
    <select 
        id="submission-date" 
        name="submission_date"
        class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-48"
        hx-get="{% url 'hcp_update_submission_data' patient.id %}"
        hx-target="#results-container"
        hx-include="[name='questionnaire_id'],[name='submission_count']"
        hx-trigger="change"
    >
        {% for submission in submissions %}
            <option 
                value="{{ submission.submission_date|date:'Y-m-d' }}"
                {% if selected_submission and submission.id == selected_submission.id %}selected{% endif %}
            >
                {{ submission.submission_date|date:'M d, Y H:i' }} - {{ submission.patient_questionnaire.questionnaire.name }}
            </option>
        {% empty %}
            <option value="">No submissions available</option>
        {% endfor %}
    </select>
</div> 