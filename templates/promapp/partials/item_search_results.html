{% load i18n %}

{% if items %}
    {% for item in items %}
        <div class="item-option px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 {% if item.id|stringformat:'s' in request.GET.item_filter %}bg-blue-50 text-blue-600{% endif %}" 
             data-item-id="{{ item.id }}" 
             data-item-name="{{ item.name|truncatechars:50 }}">
            <div class="text-sm font-medium">{{ item.name|truncatechars:50 }}</div>
            {% with first_scale=item.construct_scale.first %}
                {% if first_scale %}
                    <div class="text-xs text-gray-500">{{ first_scale.name }}</div>
                {% endif %}
            {% endwith %}
        </div>
    {% endfor %}
{% else %}
    <div class="px-3 py-2 text-sm text-gray-500 text-center">
        {% if search_query %}
            {% translate "No items found matching" %} "{{ search_query }}"
        {% else %}
            {% translate "No items available" %}
        {% endif %}
    </div>
{% endif %}